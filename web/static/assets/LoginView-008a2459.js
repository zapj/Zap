import{B as y,J as u,r as h,a as x,b as I,w as o,I as B,j as t,h as R,e as S,p as k,m,H as C,x as F,y as q}from"./index-4558e22a.js";import{E as L,a as M}from"./el-form-item-e763ec48.js";import{E as N}from"./el-card-ed177746.js";import{E as U}from"./el-button-5a1e2e41.js";import{E as j}from"./el-input-f87981a3.js";import{a as A}from"./client-5d52aa59.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{E as d}from"./index-21c5f4c3.js";import"./constants-84857360.js";import"./runtime-e5f589df.js";import"./index-6615aa32.js";import"./castArray-ee17caab.js";import"./use-global-config-0868fc11.js";import"./index-60a14872.js";import"./use-form-common-props-276dc413.js";import"./error-78e43d3e.js";import"./typescript-00cc0b5d.js";import"./index-ae1427e5.js";import"./_initCloneObject-a960cf27.js";import"./index-20939992.js";import"./use-form-item-71c26730.js";import"./event-8e91c63d.js";import"./isNil-c75b1b34.js";const J=a=>(F("data-v-3990e800"),a=a(),q(),a),P=J(()=>m("div",{class:"card-header"},[m("span",null,"ZAP")],-1)),T={__name:"LoginView",setup(a){const _=y(),r=u({username:"",password:""}),i=h(null),c=u({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),f=s=>{s&&s.validate((e,n)=>{e&&w()})},w=()=>{A({url:"/login",method:"post",data:{username:r.username,password:r.password}}).then(s=>{console.log(s),s.code===0?(d({message:"登陆成功",type:"success"}),_.push("/dashboard")):d({message:"登录失败",type:"error"})})};return(s,e)=>{const n=j,p=L,g=U,b=N,E=M,V=C,v=B;return x(),I(v,null,{default:o(()=>[t(V,{class:"login"},{default:o(()=>[t(E,{model:r,"label-width":"100px",rules:c,ref_key:"ruleFormRef",ref:i,"status-icon":"",onSubmit:e[3]||(e[3]=R(()=>{},["prevent"]))},{default:o(()=>[t(b,{class:"box-card"},{header:o(()=>[P]),footer:o(()=>[t(p,null,{default:o(()=>[t(g,{type:"primary",onClick:e[2]||(e[2]=l=>f(S(i))),"native-type":"submit"},{default:o(()=>[k("登陆")]),_:1})]),_:1})]),default:o(()=>[m("div",null,[t(p,{label:"用户名",prop:"username"},{default:o(()=>[t(n,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=l=>r.username=l),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),t(p,{label:"密码",prop:"password"},{default:o(()=>[t(n,{type:"password",modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=l=>r.password=l),placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})}}},de=H(T,[["__scopeId","data-v-3990e800"]]);export{de as default};
