import{r as i,c as h,o as v,a as m,f as g,B as w,b as x,w as n,j as t,L as d,M as p,K as M,F as B}from"./index-148d1486.js";/* empty css                   */import{E as D,a as E}from"./el-table-column-df78bdb5.js";import"./el-tooltip-5db3d11d.js";/* empty css               */import{a as y,v as C}from"./client-e1b2eaf3.js";import"./error-78e43d3e.js";import"./use-form-common-props-0f5eaf0e.js";import"./runtime-7b3fc6f5.js";import"./_initCloneObject-f565b46c.js";import"./index-eb601616.js";import"./index-e9d3915a.js";import"./event-8e91c63d.js";import"./use-form-item-71dcd037.js";import"./isNil-c75b1b34.js";import"./index-5d16af91.js";const L={class:"text-center font-size-3"},J={__name:"PSView",setup(N){const l=i([]),o=i(!1),r=i(300),c=()=>{let a=document.body.clientHeight-215-140;a<300?r.value=300:r.value=a,console.log(a)},u=h(()=>l.value.length);v(()=>{_(),window.onresize=c});const _=()=>{o.value=!0,y({url:"/v1/server/processlist",loading:!1}).then(a=>{l.value=a.data,c(),o.value=!1}).finally(()=>o.value=!1)};return(a,P)=>{const e=D,b=E,f=C;return m(),g(B,null,[w((m(),x(b,{data:l.value,border:"",style:{width:"100%"},"default-sort":{prop:"pid",order:"descending"},height:r.value},{default:n(()=>[t(e,{prop:"pid",label:"PID",width:"120",sortable:"",fixed:""}),t(e,{prop:"name",label:"进程名称",sortable:""}),t(e,{prop:"username",label:"用户",width:"150",sortable:""}),t(e,{prop:"cpu_percent",label:"CPU%",width:"100",sortable:""},{default:n(s=>[d(p(s.row.cpu_percent)+" % ",1)]),_:1}),t(e,{prop:"mem_percent",label:"MEM%",width:"100",sortable:""},{default:n(s=>[d(p(s.row.mem_percent)+" % ",1)]),_:1}),t(e,{prop:"create_time",label:"启动时间",width:"180"}),t(e,{prop:"cmdline",label:"COMMAND"})]),_:1},8,["data","height"])),[[f,o.value]]),M("p",L,"总进程数: "+p(u.value),1)],64)}}};export{J as default};
