import{r as _,o as f,a as b,b as g,w as p,j as o,p as E,e as h}from"./index-5f1d5677.js";import{E as x,a as y}from"./el-table-column-62994bae.js";import"./el-tooltip-3d978724.js";import"./el-scrollbar-f1666b53.js";import{E as w}from"./el-button-36f688bf.js";/* empty css               */import{a as l}from"./client-784b0ed6.js";import{E as m}from"./index-90345743.js";import{E as T}from"./index-5bbc6ab7.js";import"./error-78e43d3e.js";import"./runtime-89a56c03.js";import"./_initCloneObject-1dcc91f6.js";import"./use-global-config-71ca7aac.js";import"./index-f7883cef.js";import"./index-fce2b169.js";import"./event-8e91c63d.js";import"./use-form-common-props-4758c941.js";import"./constants-84857360.js";import"./use-form-item-7da9f99e.js";import"./index-110ef5f1.js";import"./isNil-c75b1b34.js";import"./typescript-e92ae92a.js";import"./focus-trap-c933673f.js";import"./index-fcde9027.js";import"./index-fc857ec4.js";import"./index-c6108575.js";import"./vnode-98fc9e80.js";import"./aria-bc8e8b0f.js";import"./index-b1db49bd.js";const ot={__name:"AppInstalledView",setup(k){const r=_([]);f(()=>{i()});const s=t=>{T.confirm("确定要卸载"+t.name+"吗？","warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:a=>{a==="confirm"&&n(t)}})},n=t=>{l({url:"/v1/app/appstore/uninstall",method:"post",data:{id:t.id},dataType:"form"}).then(a=>{m({type:a.code===0?"success":"error",message:a.msg}),i()})},i=()=>{l({url:"/v1/app/appstore/already_install"}).then(t=>{if(t.code!==0){m({type:"error",message:t.msg});return}r.value=t.data})};return(t,a)=>{const e=x,c=w,d=y;return b(),g(d,{data:h(r),stripe:"",style:{width:"100%"}},{default:p(()=>[o(e,{prop:"id",label:"Id"}),o(e,{prop:"name",label:"Name"}),o(e,{prop:"title",label:"Title"}),o(e,{prop:"version",label:"版本"}),o(e,{prop:"status",label:"状态"}),o(e,{prop:"app_status",label:"运行状态"}),o(e,{prop:"install_date",label:"安装时间"}),o(e,{fixed:"right",label:"操作",width:"120"},{default:p(u=>[o(c,{link:"",type:"primary",size:"small",onClick:B=>s(u.row)},{default:p(()=>[E("卸载")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}};export{ot as default};
