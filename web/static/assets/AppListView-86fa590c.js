import{r as L,o as M,a as o,b as a,w as s,f as d,F as u,a3 as f,e as V,j as g,K as r,M as i,h,L as v}from"./index-ef788864.js";import{E as A,a as N}from"./el-col-e9d5cd19.js";import{E as R}from"./el-card-8494bd30.js";import{E as T}from"./el-button-470da2a3.js";/* empty css               */import{a as y}from"./client-16215366.js";import{b as k}from"./index-faf3eb96.js";import{E as z}from"./index-55ed1832.js";import"./runtime-6c5e7d4b.js";import"./use-form-common-props-f4525b0b.js";import"./index-499c28ec.js";import"./index-17346e61.js";import"./use-form-item-26fbbe24.js";const F={style:{padding:"14px"}},$=["textContent"],j={class:"bottom mt-2"},q={class:"time font-size-3 me-2"},tt={__name:"AppListView",setup(D){const c=L([]);M(()=>{C()});const C=()=>{y({url:"/v1/app/appstore"}).then(n=>{c.value=n.data})};function m(n,p,l){y({url:"/v1/app/appstore/install",method:"post",data:{id:n,action:p,version:l},dataType:"form"}).then(e=>{console.log(e),e.code==0?k({type:"success",message:e.msg}):k({type:"error",message:e.msg})})}return(n,p)=>{const l=z,e=T,E=R,x=A,b=N;return o(),a(b,{gutter:20},{default:s(()=>[(o(!0),d(u,null,f(V(c),(t,w)=>(o(),a(x,{span:6,class:"mb-2",key:w},{default:s(()=>[g(E,{"body-style":{padding:"0px"},shadow:"hover"},{default:s(()=>[r("div",F,[r("span",{textContent:i(t.title)},null,8,$),g(l,{class:"tag ml-2",type:"success",effect:"dark",size:"small",textContent:i(t.category)},null,8,["textContent"]),r("div",j,[r("time",q,i(t.version[0]),1),t.actions?(o(!0),d(u,{key:0},f(t.actions,(_,B)=>(o(),a(e,{class:"button",onClick:h(K=>m(t.id,B,t.version[0]),["prevent"])},{default:s(()=>[v(i(_),1)]),_:2},1032,["onClick"]))),256)):(o(),a(e,{key:1,class:"button",onClick:h(_=>m(t.id),["prevent"])},{default:s(()=>[v("安装")]),_:2},1032,["onClick"]))])])]),_:2},1024)]),_:2},1024))),128))]),_:1})}}};export{tt as default};
