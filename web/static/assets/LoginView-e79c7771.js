import{B as v,J as u,r as h,a as x,b as y,w as o,I,j as t,h as k,e as S,p as B,m,H as R,x as C,y as F}from"./index-e26e72e9.js";import{E as q,a as L}from"./el-form-item-3f424c56.js";import{E as M}from"./el-card-e1aad0b1.js";import{E as N}from"./el-button-91f41336.js";/* empty css                 */import{a as U}from"./client-00b0bb33.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import{E as A}from"./index-b3b7ff7e.js";import{E as H}from"./index-679b04b8.js";import"./constants-b6c0c234.js";import"./runtime-909e2ee3.js";import"./use-form-common-props-0f5bc46c.js";import"./castArray-cf011fb0.js";import"./use-global-config-e0c846e4.js";import"./index-3bac334e.js";import"./index-0e6c4a62.js";import"./error-78e43d3e.js";import"./typescript-d2ff6dd6.js";import"./index-9f57bd93.js";import"./_initCloneObject-9228ffc4.js";import"./index-6838fe58.js";import"./use-form-item-59e5f47e.js";import"./event-8e91c63d.js";import"./isNil-c75b1b34.js";const J=a=>(C("data-v-ef3b7e05"),a=a(),F(),a),P=J(()=>m("div",{class:"card-header"},[m("span",null,"ZAP")],-1)),T={__name:"LoginView",setup(a){const d=v(),s=u({username:"",password:""}),i=h(null),_=u({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),c=r=>{r&&r.validate((e,l)=>{e&&f()})},f=()=>{U({url:"/login",method:"post",data:{username:s.username,password:s.password}}).then(r=>{r.code===0&&r.access_token&&(sessionStorage.setItem("access_token",r.access_token),A({message:"登陆成功",type:"success"}),d.push("/dashboard"))})};return(r,e)=>{const l=H,p=q,w=N,g=M,b=L,E=R,V=I;return x(),y(V,null,{default:o(()=>[t(E,{class:"login"},{default:o(()=>[t(b,{model:s,"label-width":"100px",rules:_,ref_key:"ruleFormRef",ref:i,"status-icon":"",onSubmit:e[3]||(e[3]=k(()=>{},["prevent"]))},{default:o(()=>[t(g,{class:"box-card"},{header:o(()=>[P]),footer:o(()=>[t(p,null,{default:o(()=>[t(w,{type:"primary",onClick:e[2]||(e[2]=n=>c(S(i))),"native-type":"submit"},{default:o(()=>[B("登陆")]),_:1})]),_:1})]),default:o(()=>[m("div",null,[t(p,{label:"用户名",prop:"username"},{default:o(()=>[t(l,{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=n=>s.username=n),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),t(p,{label:"密码",prop:"password"},{default:o(()=>[t(l,{type:"password",modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=n=>s.password=n),placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})}}},_e=j(T,[["__scopeId","data-v-ef3b7e05"]]);export{_e as default};
