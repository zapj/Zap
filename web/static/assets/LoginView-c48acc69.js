import{ak as E,O as d,r as h,o as k,l as x,m as o,ar as y,B as s,A as I,k as S,a6 as B,a5 as m,ao as R,al as q,aq as C,ag as F,ah as L}from"./index-cc2a4353.js";import{E as M,a as N}from"./el-form-item-35e22bd2.js";import{E as A}from"./el-card-5611bee7.js";/* empty css                 */import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";import{E as O}from"./index-1ac84a8f.js";import{E as P}from"./index-c42dd105.js";import"./use-form-common-props-8b319def.js";import"./castArray-e6ec1248.js";import"./event-2c073216.js";import"./use-form-item-f5a99179.js";import"./_initCloneObject-d853220d.js";import"./isNil-c75b1b34.js";const T=r=>(F("data-v-ef3b7e05"),r=r(),L(),r),Z=T(()=>m("div",{class:"card-header"},[m("span",null,"ZAP")],-1)),$={__name:"LoginView",setup(r){const i=E(),t=d({username:"",password:""}),u=h(null),_=d({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),c=a=>{a&&a.validate((e,n)=>{e&&f()})},f=()=>{R({url:"/login",method:"post",data:{username:t.username,password:t.password}}).then(a=>{a.code===0&&a.access_token&&(sessionStorage.setItem("access_token",a.access_token),q({message:"登陆成功",type:"success"}),i.push("/dashboard"))})};return(a,e)=>{const n=O,p=M,g=P,w=A,b=N,V=C,v=y;return k(),x(v,null,{default:o(()=>[s(V,{class:"login"},{default:o(()=>[s(b,{model:t,"label-width":"100px",rules:_,ref_key:"ruleFormRef",ref:u,"status-icon":"",onSubmit:e[3]||(e[3]=I(()=>{},["prevent"]))},{default:o(()=>[s(w,{class:"box-card"},{header:o(()=>[Z]),footer:o(()=>[s(p,null,{default:o(()=>[s(g,{type:"primary",onClick:e[2]||(e[2]=l=>c(S(u))),"native-type":"submit"},{default:o(()=>[B("登陆")]),_:1})]),_:1})]),default:o(()=>[m("div",null,[s(p,{label:"用户名",prop:"username"},{default:o(()=>[s(n,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=l=>t.username=l),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),s(p,{label:"密码",prop:"password"},{default:o(()=>[s(n,{type:"password",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=l=>t.password=l),placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})}}},se=U($,[["__scopeId","data-v-ef3b7e05"]]);export{se as default};
