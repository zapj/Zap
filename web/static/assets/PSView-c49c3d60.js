import{r as i,h as f,o as v,k as m,l as g,O as w,p as x,q as p,A as t,Y as d,H as n,G as D,U as E}from"./index-163cc183.js";/* empty css                   */import{E as M,a as k}from"./el-table-column-1729f5dd.js";/* empty css               */import{a as y,v as B}from"./client-cc321679.js";import"./index-83269f19.js";import"./aria-4df7e579.js";import"./index-5c76aaa6.js";import"./index-ffe902e3.js";import"./runtime-bf08026f.js";import"./use-form-common-props-75f0c225.js";import"./event-2c073216.js";import"./isNil-c75b1b34.js";import"./use-form-item-8b798a47.js";import"./_initCloneObject-035e1090.js";import"./index-d0b2b934.js";const C={class:"text-center font-size-3"},J={__name:"PSView",setup(H){const l=i([]),o=i(!1),r=i(300),c=()=>{let a=document.body.clientHeight-215-140;a<300?r.value=300:r.value=a,console.log(a)},u=f(()=>l.value.length);v(()=>{_(),window.onresize=c});const _=()=>{o.value=!0,y({url:"/v1/server/processlist",loading:!1}).then(a=>{l.value=a.data,c(),o.value=!1}).finally(()=>o.value=!1)};return(a,N)=>{const e=M,b=k,h=B;return m(),g(E,null,[w((m(),x(b,{data:l.value,border:"",style:{width:"100%"},"default-sort":{prop:"pid",order:"descending"},height:r.value},{default:p(()=>[t(e,{prop:"pid",label:"PID",width:"120",sortable:"",fixed:""}),t(e,{prop:"name",label:"进程名称",sortable:""}),t(e,{prop:"username",label:"用户",width:"150",sortable:""}),t(e,{prop:"cpu_percent",label:"CPU%",width:"100",sortable:""},{default:p(s=>[d(n(s.row.cpu_percent)+" % ",1)]),_:1}),t(e,{prop:"mem_percent",label:"MEM%",width:"100",sortable:""},{default:p(s=>[d(n(s.row.mem_percent)+" % ",1)]),_:1}),t(e,{prop:"create_time",label:"启动时间",width:"180"}),t(e,{prop:"cmdline",label:"COMMAND"})]),_:1},8,["data","height"])),[[h,o.value]]),D("p",C," 总进程数: "+n(u.value),1)],64)}}};export{J as default};
