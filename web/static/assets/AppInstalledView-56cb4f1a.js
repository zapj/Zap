import{r as _,o as f,a as b,b as g,w as r,j as e,L as h,e as x}from"./index-14135f82.js";import{E as y,a as E}from"./el-table-column-f59bea0d.js";import"./el-tooltip-c2c212f1.js";import{E as w}from"./el-button-d6781fe8.js";/* empty css               */import{a as s}from"./client-deceb825.js";import{b as i}from"./index-930baad5.js";import{E as T}from"./index-7fa6ed0e.js";import"./error-78e43d3e.js";import"./use-form-common-props-eb60e3ec.js";import"./runtime-34f45f03.js";import"./_initCloneObject-f9c726fd.js";import"./index-dace46a3.js";import"./index-51c50e5f.js";import"./event-8e91c63d.js";import"./use-form-item-a31821c7.js";import"./isNil-c75b1b34.js";import"./index-86496eda.js";import"./index-f75e8995.js";import"./aria-bc8e8b0f.js";import"./index-dd9b7aa2.js";const P={__name:"AppInstalledView",setup(k){const p=_([]);f(()=>{l()});const n=t=>{T.confirm("确定要卸载"+t.name+"吗？","warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:o=>{o==="confirm"&&m(t)}})},m=t=>{s({url:"/v1/app/appstore/uninstall",method:"post",data:{id:t.id},dataType:"form"}).then(o=>{i({type:o.code===0?"success":"error",message:o.msg}),l()})},l=()=>{s({url:"/v1/app/appstore/already_install"}).then(t=>{if(t.code!==0){i({type:"error",message:t.msg});return}p.value=t.data})};return(t,o)=>{const a=y,c=w,d=E;return b(),g(d,{data:x(p),stripe:"",style:{width:"100%"}},{default:r(()=>[e(a,{prop:"id",label:"Id"}),e(a,{prop:"name",label:"Name"}),e(a,{prop:"title",label:"Title"}),e(a,{prop:"version",label:"版本"}),e(a,{prop:"status",label:"状态"}),e(a,{prop:"app_status",label:"运行状态"}),e(a,{prop:"install_date",label:"安装时间"}),e(a,{fixed:"right",label:"操作",width:"120"},{default:r(u=>[e(c,{link:"",type:"primary",size:"small",onClick:B=>n(u.row)},{default:r(()=>[h("卸载")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}};export{P as default};
