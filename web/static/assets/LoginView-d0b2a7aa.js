import{W as E,q as u,r as h,a as x,b as y,w as o,$ as k,j as s,h as I,e as S,L as R,K as m,Z as q,R as B,S as C}from"./index-ef788864.js";import{E as F,a as L}from"./el-form-item-632ca7fb.js";import{E as M}from"./el-card-8494bd30.js";import{E as N}from"./el-button-470da2a3.js";/* empty css                 */import{a as U}from"./client-16215366.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";import{b as $}from"./index-faf3eb96.js";import{E as j}from"./index-0c2eda1a.js";import"./use-form-common-props-f4525b0b.js";import"./runtime-6c5e7d4b.js";import"./castArray-8ff7c110.js";import"./index-499c28ec.js";import"./index-17346e61.js";import"./error-78e43d3e.js";import"./use-form-item-26fbbe24.js";import"./_initCloneObject-ea0126de.js";import"./event-8e91c63d.js";import"./isNil-c75b1b34.js";const A=a=>(B("data-v-ef3b7e05"),a=a(),C(),a),K=A(()=>m("div",{class:"card-header"},[m("span",null,"ZAP")],-1)),P={__name:"LoginView",setup(a){const d=E(),t=u({username:"",password:""}),i=h(null),_=u({username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),c=r=>{r&&r.validate((e,l)=>{e&&f()})},f=()=>{U({url:"/login",method:"post",data:{username:t.username,password:t.password}}).then(r=>{r.code===0&&r.access_token&&(sessionStorage.setItem("access_token",r.access_token),$({message:"登陆成功",type:"success"}),d.push("/dashboard"))})};return(r,e)=>{const l=j,p=F,w=N,b=M,g=L,V=q,v=k;return x(),y(v,null,{default:o(()=>[s(V,{class:"login"},{default:o(()=>[s(g,{model:t,"label-width":"100px",rules:_,ref_key:"ruleFormRef",ref:i,"status-icon":"",onSubmit:e[3]||(e[3]=I(()=>{},["prevent"]))},{default:o(()=>[s(b,{class:"box-card"},{header:o(()=>[K]),footer:o(()=>[s(p,null,{default:o(()=>[s(w,{type:"primary",onClick:e[2]||(e[2]=n=>c(S(i))),"native-type":"submit"},{default:o(()=>[R("登陆")]),_:1})]),_:1})]),default:o(()=>[m("div",null,[s(p,{label:"用户名",prop:"username"},{default:o(()=>[s(l,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=n=>t.username=n),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),s(p,{label:"密码",prop:"password"},{default:o(()=>[s(l,{type:"password",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=n=>t.password=n),placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})}}},pe=Z(P,[["__scopeId","data-v-ef3b7e05"]]);export{pe as default};
