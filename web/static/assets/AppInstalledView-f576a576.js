import{r as _,o as f,a as b,b as g,w as r,j as e,L as h,e as x}from"./index-ef788864.js";import{E as y,a as E}from"./el-table-column-ecd9c7ec.js";import"./el-tooltip-6781d3c2.js";import{E as w}from"./el-button-470da2a3.js";/* empty css               */import{a as s}from"./client-16215366.js";import{b as i}from"./index-faf3eb96.js";import{E as T}from"./index-1d864d31.js";import"./error-78e43d3e.js";import"./use-form-common-props-f4525b0b.js";import"./runtime-6c5e7d4b.js";import"./_initCloneObject-ea0126de.js";import"./index-499c28ec.js";import"./index-17346e61.js";import"./event-8e91c63d.js";import"./use-form-item-26fbbe24.js";import"./isNil-c75b1b34.js";import"./index-0c2eda1a.js";import"./index-b5f3f95a.js";import"./aria-bc8e8b0f.js";import"./index-fa7350a0.js";const P={__name:"AppInstalledView",setup(k){const p=_([]);f(()=>{l()});const n=t=>{T.confirm("确定要卸载"+t.name+"吗？","warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:o=>{o==="confirm"&&m(t)}})},m=t=>{s({url:"/v1/app/appstore/uninstall",method:"post",data:{id:t.id},dataType:"form"}).then(o=>{i({type:o.code===0?"success":"error",message:o.msg}),l()})},l=()=>{s({url:"/v1/app/appstore/already_install"}).then(t=>{if(t.code!==0){i({type:"error",message:t.msg});return}p.value=t.data})};return(t,o)=>{const a=y,c=w,d=E;return b(),g(d,{data:x(p),stripe:"",style:{width:"100%"}},{default:r(()=>[e(a,{prop:"id",label:"Id"}),e(a,{prop:"name",label:"Name"}),e(a,{prop:"title",label:"Title"}),e(a,{prop:"version",label:"版本"}),e(a,{prop:"status",label:"状态"}),e(a,{prop:"app_status",label:"运行状态"}),e(a,{prop:"install_date",label:"安装时间"}),e(a,{fixed:"right",label:"操作",width:"120"},{default:r(u=>[e(c,{link:"",type:"primary",size:"small",onClick:B=>n(u.row)},{default:r(()=>[h("卸载")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}};export{P as default};
