import{i as Ae,a as qe,o as ne,w as Ke,b as De,c as Ce,d as ht,u as V,e as bt,f as Xe,h as Le,g as te,j as gt,k as me,l as _t,r as he,N as Oe,m as ue,n as Et,p as Ze,q as ae,s as oe,t as P,v as I,x as C,y as ie,z as T,A as j,B as ve,C as i,D as J,E as c,F as Je,G as fe,H as A,I as H,_ as se,J as Ie,K as We,L as Ct,M as Mt,O as St,P as u,Q as Tt,R as Me,T as we,S as Pe,U as kt,V as B,W as It,X as ce,Y as z,Z as Se,$ as wt,a0 as $t,a1 as xt,a2 as At,a3 as Ot,a4 as Qe,a5 as $e,a6 as Te,a7 as Nt,a8 as ke,a9 as Re,aa as Bt,ab as et,ac as Lt,ad as Z,ae as tt,af as zt,ag as He,ah as pe,ai as Dt,aj as Pt,ak as Rt,al as Ht,am as Vt,an as ot,ao as w,ap as Ve,aq as Yt,ar as qt,as as Fe,at as Wt,au as je,av as Ft,aw as jt,ax as Ut,ay as re,az as nt,aA as Gt,aB as st,aC as lt,aD as Kt,aE as Xt,aF as Zt}from"./index-c5a08050.js";import{g as Jt,c as Qt,E as at,a as eo,b as to,d as oo,e as no}from"./index-6859c304.js";import{u as ze,T as so,E as lo}from"./index-003c2c7e.js";import{F as ao,i as io,E as uo,a as it,C as ro,b as co}from"./index-28183222.js";import{t as de,U as ut}from"./event-2c073216.js";import{u as Ue}from"./use-form-item-46d381f0.js";import{i as Ge}from"./isNil-c75b1b34.js";import{_ as fo}from"./_plugin-vue_export-helper-c27b6911.js";import{E as po,a as mo}from"./index-808c049b.js";import"./use-form-common-props-2b0f30e3.js";import"./castArray-b9e6574b.js";const be=function(e,n,...o){let s;n.includes("mouse")||n.includes("click")?s="MouseEvents":n.includes("key")?s="KeyboardEvent":s="HTMLEvents";const t=document.createEvent(s);return t.initEvent(n,...o),e.dispatchEvent(t),e};var ge=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(ge||{});const _e=e=>{const n=Ae(e)?e:[e],o=[];return n.forEach(s=>{var t;Ae(s)?o.push(..._e(s)):qe(s)&&Ae(s.children)?o.push(..._e(s.children)):(o.push(s),qe(s)&&((t=s.component)!=null&&t.subTree)&&o.push(..._e(s.component.subTree)))}),o},vo=(e,n,o)=>{let s={offsetX:0,offsetY:0};const t=d=>{const r=d.clientX,a=d.clientY,{offsetX:m,offsetY:g}=s,_=e.value.getBoundingClientRect(),E=_.left,$=_.top,D=_.width,W=_.height,U=document.documentElement.clientWidth,Y=document.documentElement.clientHeight,G=-E+m,Q=-$+g,X=U-E-D+m,O=Y-$-W+g,q=R=>{const b=Math.min(Math.max(m+R.clientX-r,G),X),L=Math.min(Math.max(g+R.clientY-a,Q),O);s={offsetX:b,offsetY:L},e.value&&(e.value.style.transform=`translate(${Ce(b)}, ${Ce(L)})`)},x=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",x)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",x)},f=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",t)},l=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",t)};ne(()=>{Ke(()=>{o.value?f():l()})}),De(()=>{l()})},yo=(e,n={})=>{ht(e)||de("[useLockscreen]","You need to pass a ref param to this function");const o=n.ns||V("popup"),s=bt(()=>o.bm("parent","hidden"));if(!Xe||Le(document.body,s.value))return;let t=0,f=!1,l="0";const d=()=>{setTimeout(()=>{he(document==null?void 0:document.body,s.value),f&&document&&(document.body.style.width=l)},200)};te(e,r=>{if(!r){d();return}f=!Le(document.body,s.value),f&&(l=document.body.style.width),t=Jt(o.namespace.value);const a=document.documentElement.clientHeight<document.body.scrollHeight,m=gt(document.body,"overflowY");t>0&&(a||m==="scroll")&&f&&(document.body.style.width=`calc(100% - ${t}px)`),me(document.body,s.value)}),_t(()=>d())},rt=e=>{if(!e)return{onClick:Oe,onMousedown:Oe,onMouseup:Oe};let n=!1,o=!1;return{onClick:l=>{n&&o&&e(l),n=o=!1},onMousedown:l=>{n=l.target===l.currentTarget},onMouseup:l=>{o=l.target===l.currentTarget}}},ho=ue({size:{type:[Number,String],values:Et,default:"",validator:e=>Ze(e)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:ae},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:oe(String),default:"cover"}}),bo={error:e=>e instanceof Event},go=["src","alt","srcset"],_o=P({name:"ElAvatar"}),Eo=P({..._o,props:ho,emits:bo,setup(e,{emit:n}){const o=e,s=V("avatar"),t=I(!1),f=C(()=>{const{size:a,icon:m,shape:g}=o,_=[s.b()];return ie(a)&&_.push(s.m(a)),m&&_.push(s.m("icon")),g&&_.push(s.m(g)),_}),l=C(()=>{const{size:a}=o;return Ze(a)?s.cssVarBlock({size:Ce(a)||""}):void 0}),d=C(()=>({objectFit:o.fit}));te(()=>o.src,()=>t.value=!1);function r(a){t.value=!0,n("error",a)}return(a,m)=>(T(),j("span",{class:H(i(f)),style:ve(i(l))},[(a.src||a.srcSet)&&!t.value?(T(),j("img",{key:0,src:a.src,alt:a.alt,srcset:a.srcSet,style:ve(i(d)),onError:r},null,44,go)):a.icon?(T(),J(i(fe),{key:1},{default:c(()=>[(T(),J(Je(a.icon)))]),_:1})):A(a.$slots,"default",{key:2})],6))}});var Co=se(Eo,[["__file","avatar.vue"]]);const Mo=Ie(Co),So={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},To={click:e=>e instanceof MouseEvent},ko=(e,n,o)=>{const s=We(),t=We(),f=I(!1),l=()=>{s.value&&(f.value=s.value.scrollTop>=e.visibilityHeight)},d=a=>{var m;(m=s.value)==null||m.scrollTo({top:0,behavior:"smooth"}),n("click",a)},r=Mt(l,300,!0);return Ct(t,"scroll",r),ne(()=>{var a;t.value=document,s.value=document.documentElement,e.target&&(s.value=(a=document.querySelector(e.target))!=null?a:void 0,s.value||de(o,`target does not exist: ${e.target}`),t.value=s.value),l()}),{visible:f,handleClick:d}},ct="ElBacktop",Io=P({name:ct}),wo=P({...Io,props:So,emits:To,setup(e,{emit:n}){const o=e,s=V("backtop"),{handleClick:t,visible:f}=ko(o,n,ct),l=C(()=>({right:`${o.right}px`,bottom:`${o.bottom}px`}));return(d,r)=>(T(),J(we,{name:`${i(s).namespace.value}-fade-in`},{default:c(()=>[i(f)?(T(),j("div",{key:0,style:ve(i(l)),class:H(i(s).b()),onClick:r[0]||(r[0]=St((...a)=>i(t)&&i(t)(...a),["stop"]))},[A(d.$slots,"default",{},()=>[u(i(fe),{class:H(i(s).e("icon"))},{default:c(()=>[u(i(Tt))]),_:1},8,["class"])])],6)):Me("v-if",!0)]),_:3},8,["name"]))}});var $o=se(wo,[["__file","backtop.vue"]]);const xo=Ie($o),Ao=P({name:"ElCollapseTransition"}),Oo=P({...Ao,setup(e){const n=V("collapse-transition"),o=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},s={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame(()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:t.scrollHeight!==0?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"})},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){o(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){t.scrollHeight!==0&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){o(t)},leaveCancelled(t){o(t)}};return(t,f)=>(T(),J(we,Pe({name:i(n).b()},kt(s)),{default:c(()=>[A(t.$slots,"default")]),_:3},16,["name"]))}});var Ee=se(Oo,[["__file","collapse-transition.vue"]]);Ee.install=e=>{e.component(Ee.name,Ee)};const No=Ee,Bo=ue({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:oe([String,Array,Object])},zIndex:{type:oe([String,Number])}}),Lo={click:e=>e instanceof MouseEvent},zo="overlay";var Do=P({name:"ElOverlay",props:Bo,emits:Lo,setup(e,{slots:n,emit:o}){const s=V(zo),t=r=>{o("click",r)},{onClick:f,onMousedown:l,onMouseup:d}=rt(e.customMaskEvent?void 0:t);return()=>e.mask?u("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:f,onMousedown:l,onMouseup:d},[A(n,"default")],ge.STYLE|ge.CLASS|ge.PROPS,["onClick","onMouseup","onMousedown"]):B("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[A(n,"default")])}});const Po=Do,dt=Symbol("dialogInjectionKey"),ft=ue({center:Boolean,alignCenter:Boolean,closeIcon:{type:ae},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Ro={close:()=>!0},Ho=["aria-level"],Vo=["aria-label"],Yo=["id"],qo=P({name:"ElDialogContent"}),Wo=P({...qo,props:ft,emits:Ro,setup(e){const n=e,{t:o}=It(),{Close:s}=wt,{dialogRef:t,headerRef:f,bodyId:l,ns:d,style:r}=ce(dt),{focusTrapRef:a}=ce(ao),m=C(()=>[d.b(),d.is("fullscreen",n.fullscreen),d.is("draggable",n.draggable),d.is("align-center",n.alignCenter),{[d.m("center")]:n.center},n.customClass]),g=Qt(a,t),_=C(()=>n.draggable);return vo(t,f,_),(E,$)=>(T(),j("div",{ref:i(g),class:H(i(m)),style:ve(i(r)),tabindex:"-1"},[z("header",{ref_key:"headerRef",ref:f,class:H(i(d).e("header"))},[A(E.$slots,"header",{},()=>[z("span",{role:"heading","aria-level":E.ariaLevel,class:H(i(d).e("title"))},Se(E.title),11,Ho)]),E.showClose?(T(),j("button",{key:0,"aria-label":i(o)("el.dialog.close"),class:H(i(d).e("headerbtn")),type:"button",onClick:$[0]||($[0]=D=>E.$emit("close"))},[u(i(fe),{class:H(i(d).e("close"))},{default:c(()=>[(T(),J(Je(E.closeIcon||i(s))))]),_:1},8,["class"])],10,Vo)):Me("v-if",!0)],2),z("div",{id:i(l),class:H(i(d).e("body"))},[A(E.$slots,"default")],10,Yo),E.$slots.footer?(T(),j("footer",{key:0,class:H(i(d).e("footer"))},[A(E.$slots,"footer")],2)):Me("v-if",!0)],6))}});var Fo=se(Wo,[["__file","dialog-content.vue"]]);const jo=ue({...ft,appendToBody:Boolean,appendTo:{type:oe(String),default:"body"},beforeClose:{type:oe(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),Uo={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ut]:e=>$t(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Go=(e,n)=>{var o;const t=$e().emit,{nextZIndex:f}=xt();let l="";const d=Ue(),r=Ue(),a=I(!1),m=I(!1),g=I(!1),_=I((o=e.zIndex)!=null?o:f());let E,$;const D=At("namespace",Ot),W=C(()=>{const v={},S=`--${D.value}-dialog`;return e.fullscreen||(e.top&&(v[`${S}-margin-top`]=e.top),e.width&&(v[`${S}-width`]=Ce(e.width))),v}),U=C(()=>e.alignCenter?{display:"flex"}:{});function Y(){t("opened")}function G(){t("closed"),t(ut,!1),e.destroyOnClose&&(g.value=!1)}function Q(){t("close")}function X(){$==null||$(),E==null||E(),e.openDelay&&e.openDelay>0?{stop:E}=Te(()=>R(),e.openDelay):R()}function O(){E==null||E(),$==null||$(),e.closeDelay&&e.closeDelay>0?{stop:$}=Te(()=>b(),e.closeDelay):b()}function q(){function v(S){S||(m.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(v):O()}function x(){e.closeOnClickModal&&q()}function R(){Xe&&(a.value=!0)}function b(){a.value=!1}function L(){t("openAutoFocus")}function F(){t("closeAutoFocus")}function p(v){var S;((S=v.detail)==null?void 0:S.focusReason)==="pointer"&&v.preventDefault()}e.lockScroll&&yo(a);function h(){e.closeOnPressEscape&&q()}return te(()=>e.modelValue,v=>{v?(m.value=!1,X(),g.value=!0,_.value=io(e.zIndex)?f():_.value++,Qe(()=>{t("open"),n.value&&(n.value.scrollTop=0)})):a.value&&O()}),te(()=>e.fullscreen,v=>{n.value&&(v?(l=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=l)}),ne(()=>{e.modelValue&&(a.value=!0,g.value=!0,X())}),{afterEnter:Y,afterLeave:G,beforeLeave:Q,handleClose:q,onModalClick:x,close:O,doClose:b,onOpenAutoFocus:L,onCloseAutoFocus:F,onCloseRequested:h,onFocusoutPrevented:p,titleId:d,bodyId:r,closed:m,style:W,overlayDialogStyle:U,rendered:g,visible:a,zIndex:_}},Ko=["aria-label","aria-labelledby","aria-describedby"],Xo=P({name:"ElDialog",inheritAttrs:!1}),Zo=P({...Xo,props:jo,emits:Uo,setup(e,{expose:n}){const o=e,s=Nt();ze({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},C(()=>!!s.title)),ze({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},C(()=>!!o.customClass));const t=V("dialog"),f=I(),l=I(),d=I(),{visible:r,titleId:a,bodyId:m,style:g,overlayDialogStyle:_,rendered:E,zIndex:$,afterEnter:D,afterLeave:W,beforeLeave:U,handleClose:Y,onModalClick:G,onOpenAutoFocus:Q,onCloseAutoFocus:X,onCloseRequested:O,onFocusoutPrevented:q}=Go(o,f);ke(dt,{dialogRef:f,headerRef:l,bodyId:m,ns:t,rendered:E,style:g});const x=rt(G),R=C(()=>o.draggable&&!o.fullscreen);return n({visible:r,dialogContentRef:d}),(b,L)=>(T(),J(Lt,{to:b.appendTo,disabled:b.appendTo!=="body"?!1:!b.appendToBody},[u(we,{name:"dialog-fade",onAfterEnter:i(D),onAfterLeave:i(W),onBeforeLeave:i(U),persisted:""},{default:c(()=>[Re(u(i(Po),{"custom-mask-event":"",mask:b.modal,"overlay-class":b.modalClass,"z-index":i($)},{default:c(()=>[z("div",{role:"dialog","aria-modal":"true","aria-label":b.title||void 0,"aria-labelledby":b.title?void 0:i(a),"aria-describedby":i(m),class:H(`${i(t).namespace.value}-overlay-dialog`),style:ve(i(_)),onClick:L[0]||(L[0]=(...F)=>i(x).onClick&&i(x).onClick(...F)),onMousedown:L[1]||(L[1]=(...F)=>i(x).onMousedown&&i(x).onMousedown(...F)),onMouseup:L[2]||(L[2]=(...F)=>i(x).onMouseup&&i(x).onMouseup(...F))},[u(i(uo),{loop:"",trapped:i(r),"focus-start-el":"container",onFocusAfterTrapped:i(Q),onFocusAfterReleased:i(X),onFocusoutPrevented:i(q),onReleaseRequested:i(O)},{default:c(()=>[i(E)?(T(),J(Fo,Pe({key:0,ref_key:"dialogContentRef",ref:d},b.$attrs,{"custom-class":b.customClass,center:b.center,"align-center":b.alignCenter,"close-icon":b.closeIcon,draggable:i(R),fullscreen:b.fullscreen,"show-close":b.showClose,title:b.title,"aria-level":b.headerAriaLevel,onClose:i(Y)}),Bt({header:c(()=>[b.$slots.title?A(b.$slots,"title",{key:1}):A(b.$slots,"header",{key:0,close:i(Y),titleId:i(a),titleClass:i(t).e("title")})]),default:c(()=>[A(b.$slots,"default")]),_:2},[b.$slots.footer?{name:"footer",fn:c(()=>[A(b.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):Me("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ko)]),_:3},8,["mask","overlay-class","z-index"]),[[et,i(r)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Jo=se(Zo,[["__file","dialog.vue"]]);const Qo=Ie(Jo);let en=class{constructor(n,o){this.parent=n,this.domNode=o,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,o=>{o.addEventListener("keydown",s=>{let t=!1;switch(s.code){case Z.down:{this.gotoSubIndex(this.subIndex+1),t=!0;break}case Z.up:{this.gotoSubIndex(this.subIndex-1),t=!0;break}case Z.tab:{be(n,"mouseleave");break}case Z.enter:case Z.space:{t=!0,s.currentTarget.click();break}}return t&&(s.preventDefault(),s.stopPropagation()),!1})})}},tn=class{constructor(n,o){this.domNode=n,this.submenu=null,this.submenu=null,this.init(o)}init(n){this.domNode.setAttribute("tabindex","0");const o=this.domNode.querySelector(`.${n}-menu`);o&&(this.submenu=new en(this,o)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let o=!1;switch(n.code){case Z.down:{be(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),o=!0;break}case Z.up:{be(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),o=!0;break}case Z.tab:{be(n.currentTarget,"mouseleave");break}case Z.enter:case Z.space:{o=!0,n.currentTarget.click();break}}o&&n.preventDefault()})}},on=class{constructor(n,o){this.domNode=n,this.init(o)}init(n){const o=this.domNode.childNodes;Array.from(o).forEach(s=>{s.nodeType===1&&new tn(s,n)})}};const nn=P({name:"ElMenuCollapseTransition",setup(){const e=V("menu");return{listeners:{onBeforeEnter:o=>o.style.opacity="0.2",onEnter(o,s){me(o,`${e.namespace.value}-opacity-transition`),o.style.opacity="1",s()},onAfterEnter(o){he(o,`${e.namespace.value}-opacity-transition`),o.style.opacity=""},onBeforeLeave(o){o.dataset||(o.dataset={}),Le(o,e.m("collapse"))?(he(o,e.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),me(o,e.m("collapse"))):(me(o,e.m("collapse")),o.dataset.oldOverflow=o.style.overflow,o.dataset.scrollWidth=o.clientWidth.toString(),he(o,e.m("collapse"))),o.style.width=`${o.scrollWidth}px`,o.style.overflow="hidden"},onLeave(o){me(o,"horizontal-collapse-transition"),o.style.width=`${o.dataset.scrollWidth}px`}}}}});function sn(e,n,o,s,t,f){return T(),J(we,Pe({mode:"out-in"},e.listeners),{default:c(()=>[A(e.$slots,"default")]),_:3},16)}var ln=se(nn,[["render",sn],["__file","menu-collapse-transition.vue"]]);function pt(e,n){const o=C(()=>{let t=e.parent;const f=[n.value];for(;t.type.name!=="ElMenu";)t.props.index&&f.unshift(t.props.index),t=t.parent;return f});return{parentMenu:C(()=>{let t=e.parent;for(;t&&!["ElMenu","ElSubMenu"].includes(t.type.name);)t=t.parent;return t}),indexPath:o}}function an(e){return C(()=>{const o=e.backgroundColor;return o?new so(o).shade(20).toString():""})}const mt=(e,n)=>{const o=V("menu");return C(()=>o.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":an(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},un=ue({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:ae},expandOpenIcon:{type:ae},collapseCloseIcon:{type:ae},collapseOpenIcon:{type:ae}}),ye="ElSubMenu";var Ye=P({name:ye,props:un,setup(e,{slots:n,expose:o}){ze({from:"popper-append-to-body",replacement:"teleported",scope:ye,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},C(()=>e.popperAppendToBody!==void 0));const s=$e(),{indexPath:t,parentMenu:f}=pt(s,C(()=>e.index)),l=V("menu"),d=V("sub-menu"),r=ce("rootMenu");r||de(ye,"can not inject root menu");const a=ce(`subMenu:${f.value.uid}`);a||de(ye,"can not inject sub menu");const m=I({}),g=I({});let _;const E=I(!1),$=I(),D=I(null),W=C(()=>x.value==="horizontal"&&Y.value?"bottom-start":"right-start"),U=C(()=>x.value==="horizontal"&&Y.value||x.value==="vertical"&&!r.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?O.value?e.expandOpenIcon:e.expandCloseIcon:tt:e.collapseCloseIcon&&e.collapseOpenIcon?O.value?e.collapseOpenIcon:e.collapseCloseIcon:zt),Y=C(()=>a.level===0),G=C(()=>{var y;const M=(y=e.teleported)!=null?y:e.popperAppendToBody;return M===void 0?Y.value:M}),Q=C(()=>r.props.collapse?`${l.namespace.value}-zoom-in-left`:`${l.namespace.value}-zoom-in-top`),X=C(()=>x.value==="horizontal"&&Y.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),O=C(()=>r.openedMenus.includes(e.index)),q=C(()=>{let y=!1;return Object.values(m.value).forEach(M=>{M.active&&(y=!0)}),Object.values(g.value).forEach(M=>{M.active&&(y=!0)}),y}),x=C(()=>r.props.mode),R=He({index:e.index,indexPath:t,active:q}),b=mt(r.props,a.level+1),L=C(()=>{var y;return(y=e.popperOffset)!=null?y:r.props.popperOffset}),F=C(()=>{var y;return(y=e.popperClass)!=null?y:r.props.popperClass}),p=C(()=>{var y;return(y=e.showTimeout)!=null?y:r.props.showTimeout}),h=C(()=>{var y;return(y=e.hideTimeout)!=null?y:r.props.hideTimeout}),v=()=>{var y,M,k;return(k=(M=(y=D.value)==null?void 0:y.popperRef)==null?void 0:M.popperInstanceRef)==null?void 0:k.destroy()},S=y=>{y||v()},N=()=>{r.props.menuTrigger==="hover"&&r.props.mode==="horizontal"||r.props.collapse&&r.props.mode==="vertical"||e.disabled||r.handleSubMenuClick({index:e.index,indexPath:t.value,active:q.value})},K=(y,M=p.value)=>{var k;if(y.type!=="focus"){if(r.props.menuTrigger==="click"&&r.props.mode==="horizontal"||!r.props.collapse&&r.props.mode==="vertical"||e.disabled){a.mouseInChild.value=!0;return}a.mouseInChild.value=!0,_==null||_(),{stop:_}=Te(()=>{r.openMenu(e.index,t.value)},M),G.value&&((k=f.value.vnode.el)==null||k.dispatchEvent(new MouseEvent("mouseenter")))}},ee=(y=!1)=>{var M;if(r.props.menuTrigger==="click"&&r.props.mode==="horizontal"||!r.props.collapse&&r.props.mode==="vertical"){a.mouseInChild.value=!1;return}_==null||_(),a.mouseInChild.value=!1,{stop:_}=Te(()=>!E.value&&r.closeMenu(e.index,t.value),h.value),G.value&&y&&((M=a.handleMouseleave)==null||M.call(a,!0))};te(()=>r.props.collapse,y=>S(!!y));{const y=k=>{g.value[k.index]=k},M=k=>{delete g.value[k.index]};ke(`subMenu:${s.uid}`,{addSubMenu:y,removeSubMenu:M,handleMouseleave:ee,mouseInChild:E,level:a.level+1})}return o({opened:O}),ne(()=>{r.addSubMenu(R),a.addSubMenu(R)}),De(()=>{a.removeSubMenu(R),r.removeSubMenu(R)}),()=>{var y;const M=[(y=n.title)==null?void 0:y.call(n),B(fe,{class:d.e("icon-arrow"),style:{transform:O.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&r.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>ie(U.value)?B(s.appContext.components[U.value]):B(U.value)})],k=r.isMenuPopup?B(it,{ref:D,visible:O.value,effect:"light",pure:!0,offset:L.value,showArrow:!1,persistent:!0,popperClass:F.value,placement:W.value,teleported:G.value,fallbackPlacements:X.value,transition:Q.value,gpuAcceleration:!1},{content:()=>{var le;return B("div",{class:[l.m(x.value),l.m("popup-container"),F.value],onMouseenter:xe=>K(xe,100),onMouseleave:()=>ee(!0),onFocus:xe=>K(xe,100)},[B("ul",{class:[l.b(),l.m("popup"),l.m(`popup-${W.value}`)],style:b.value},[(le=n.default)==null?void 0:le.call(n)])])},default:()=>B("div",{class:d.e("title"),onClick:N},M)}):B(pe,{},[B("div",{class:d.e("title"),ref:$,onClick:N},M),B(No,{},{default:()=>{var le;return Re(B("ul",{role:"menu",class:[l.b(),l.m("inline")],style:b.value},[(le=n.default)==null?void 0:le.call(n)]),[[et,O.value]])}})]);return B("li",{class:[d.b(),d.is("active",q.value),d.is("opened",O.value),d.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:O.value,onMouseenter:K,onMouseleave:()=>ee(),onFocus:K},[k])}}});const rn=ue({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:oe(Array),default:()=>Dt([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:ae,default:()=>Pt},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),Ne=e=>Array.isArray(e)&&e.every(n=>ie(n)),cn={close:(e,n)=>ie(e)&&Ne(n),open:(e,n)=>ie(e)&&Ne(n),select:(e,n,o,s)=>ie(e)&&Ne(n)&&Rt(o)&&(s===void 0||s instanceof Promise)};var dn=P({name:"ElMenu",props:rn,emits:cn,setup(e,{emit:n,slots:o,expose:s}){const t=$e(),f=t.appContext.config.globalProperties.$router,l=I(),d=V("menu"),r=V("sub-menu"),a=I(-1),m=I(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),g=I(e.defaultActive),_=I({}),E=I({}),$=C(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),D=()=>{const p=g.value&&_.value[g.value];if(!p||e.mode==="horizontal"||e.collapse)return;p.indexPath.forEach(v=>{const S=E.value[v];S&&W(v,S.indexPath)})},W=(p,h)=>{m.value.includes(p)||(e.uniqueOpened&&(m.value=m.value.filter(v=>h.includes(v))),m.value.push(p),n("open",p,h))},U=p=>{const h=m.value.indexOf(p);h!==-1&&m.value.splice(h,1)},Y=(p,h)=>{U(p),n("close",p,h)},G=({index:p,indexPath:h})=>{m.value.includes(p)?Y(p,h):W(p,h)},Q=p=>{(e.mode==="horizontal"||e.collapse)&&(m.value=[]);const{index:h,indexPath:v}=p;if(!(Ge(h)||Ge(v)))if(e.router&&f){const S=p.route||h,N=f.push(S).then(K=>(K||(g.value=h),K));n("select",h,v,{index:h,indexPath:v,route:S},N)}else g.value=h,n("select",h,v,{index:h,indexPath:v})},X=p=>{const h=_.value,v=h[p]||g.value&&h[g.value]||h[e.defaultActive];v?g.value=v.index:g.value=p},O=()=>{var p,h;if(!l.value)return-1;const v=Array.from((h=(p=l.value)==null?void 0:p.childNodes)!=null?h:[]).filter(k=>k.nodeName!=="#comment"&&(k.nodeName!=="#text"||k.nodeValue)),S=64,N=Number.parseInt(getComputedStyle(l.value).paddingLeft,10),K=Number.parseInt(getComputedStyle(l.value).paddingRight,10),ee=l.value.clientWidth-N-K;let y=0,M=0;return v.forEach((k,le)=>{y+=k.offsetWidth||0,y<=ee-S&&(M=le+1)}),M===v.length?-1:M},q=p=>E.value[p].indexPath,x=(p,h=33.34)=>{let v;return()=>{v&&clearTimeout(v),v=setTimeout(()=>{p()},h)}};let R=!0;const b=()=>{const p=()=>{a.value=-1,Qe(()=>{a.value=O()})};R?p():x(p)(),R=!1};te(()=>e.defaultActive,p=>{_.value[p]||(g.value=""),X(p)}),te(()=>e.collapse,p=>{p&&(m.value=[])}),te(_.value,D);let L;Ke(()=>{e.mode==="horizontal"&&e.ellipsis?L=Ht(l,b).stop:L==null||L()});const F=I(!1);{const p=N=>{E.value[N.index]=N},h=N=>{delete E.value[N.index]};ke("rootMenu",He({props:e,openedMenus:m,items:_,subMenus:E,activeIndex:g,isMenuPopup:$,addMenuItem:N=>{_.value[N.index]=N},removeMenuItem:N=>{delete _.value[N.index]},addSubMenu:p,removeSubMenu:h,openMenu:W,closeMenu:Y,handleMenuItemClick:Q,handleSubMenuClick:G})),ke(`subMenu:${t.uid}`,{addSubMenu:p,removeSubMenu:h,mouseInChild:F,level:0})}return ne(()=>{e.mode==="horizontal"&&new on(t.vnode.el,d.namespace.value)}),s({open:h=>{const{indexPath:v}=E.value[h];v.forEach(S=>W(S,v))},close:U,handleResize:b}),()=>{var p,h;let v=(h=(p=o.default)==null?void 0:p.call(o))!=null?h:[];const S=[];if(e.mode==="horizontal"&&l.value){const y=_e(v),M=a.value===-1?y:y.slice(0,a.value),k=a.value===-1?[]:y.slice(a.value);k!=null&&k.length&&e.ellipsis&&(v=M,S.push(B(Ye,{index:"sub-menu-more",class:r.e("hide-arrow"),popperOffset:e.popperOffset},{title:()=>B(fe,{class:r.e("icon-more")},{default:()=>B(e.ellipsisIcon)}),default:()=>k})))}const N=mt(e,0),K=e.closeOnClickOutside?[[ro,()=>{m.value.length&&(F.value||(m.value.forEach(y=>n("close",y,q(y))),m.value=[]))}]]:[],ee=Re(B("ul",{key:String(e.collapse),role:"menubar",ref:l,style:N.value,class:{[d.b()]:!0,[d.m(e.mode)]:!0,[d.m("collapse")]:e.collapse}},[...v,...S]),K);return e.collapseTransition&&e.mode==="vertical"?B(ln,()=>ee):ee}}});const fn=ue({index:{type:oe([String,null]),default:null},route:{type:oe([String,Object])},disabled:Boolean}),pn={click:e=>ie(e.index)&&Array.isArray(e.indexPath)},Be="ElMenuItem",mn=P({name:Be,components:{ElTooltip:it},props:fn,emits:pn,setup(e,{emit:n}){const o=$e(),s=ce("rootMenu"),t=V("menu"),f=V("menu-item");s||de(Be,"can not inject root menu");const{parentMenu:l,indexPath:d}=pt(o,Vt(e,"index")),r=ce(`subMenu:${l.value.uid}`);r||de(Be,"can not inject sub menu");const a=C(()=>e.index===s.activeIndex),m=He({index:e.index,indexPath:d,active:a}),g=()=>{e.disabled||(s.handleMenuItemClick({index:e.index,indexPath:d.value,route:e.route}),n("click",m))};return ne(()=>{r.addSubMenu(m),s.addMenuItem(m)}),De(()=>{r.removeSubMenu(m),s.removeMenuItem(m)}),{parentMenu:l,rootMenu:s,active:a,nsMenu:t,nsMenuItem:f,handleClick:g}}});function vn(e,n,o,s,t,f){const l=ot("el-tooltip");return T(),j("li",{class:H([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...d)=>e.handleClick&&e.handleClick(...d))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(T(),J(l,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:c(()=>[A(e.$slots,"title")]),default:c(()=>[z("div",{class:H(e.nsMenu.be("tooltip","trigger"))},[A(e.$slots,"default")],2)]),_:3},8,["effect"])):(T(),j(pe,{key:1},[A(e.$slots,"default"),A(e.$slots,"title")],64))],2)}var vt=se(mn,[["render",vn],["__file","menu-item.vue"]]);const yn={title:String},hn="ElMenuItemGroup",bn=P({name:hn,props:yn,setup(){return{ns:V("menu-item-group")}}});function gn(e,n,o,s,t,f){return T(),j("li",{class:H(e.ns.b())},[z("div",{class:H(e.ns.e("title"))},[e.$slots.title?A(e.$slots,"title",{key:1}):(T(),j(pe,{key:0},[w(Se(e.title),1)],64))],2),z("ul",null,[A(e.$slots,"default")])],2)}var yt=se(bn,[["render",gn],["__file","menu-item-group.vue"]]);const _n=Ie(dn,{MenuItem:vt,MenuItemGroup:yt,SubMenu:Ye}),En=Ve(vt);Ve(yt);const Cn=Ve(Ye),Mn={class:"right-buttons"},Sn=z("span",{class:"hidden-xs-only"},"Account",-1),Tn=z("span",null,"It's a draggable Dialog",-1),kn={class:"dialog-footer"},In={__name:"TopHeader",setup(e){const n=I(!1);ne(function(){const t=document.querySelector(".zap-overlay");t.addEventListener("click",function(){o()}),window.addEventListener("resize",()=>{document.body.clientWidth<768?(t.style.visibility="hidden",document.querySelector("aside").style.marginLeft="-200px"):document.querySelector("aside").style.marginLeft="0"})});function o(){const t=document.querySelector(".zap-overlay"),f=document.querySelector("aside");f.style.marginLeft==="0px"||f.style.marginLeft===""?(f.style.marginLeft="-200px",t.style.visibility="hidden"):(t.style.visibility="visible",f.style.marginLeft="0px")}function s(){sessionStorage.removeItem("access_token"),je.replace({path:"/login",query:{redirect:je.currentRoute.fullPath}})}return(t,f)=>{const l=fe,d=at,r=Mo,a=eo,m=to,g=oo,_=Ft,E=lo,$=Qo;return T(),j(pe,null,[u(_,null,{default:c(()=>[u(d,{underline:!1},{default:c(()=>[u(l,{size:20,onClick:o},{default:c(()=>[u(i(Yt))]),_:1})]),_:1}),z("div",Mn,[u(d,{underline:!1,onClick:f[0]||(f[0]=D=>n.value=!0)},{default:c(()=>[w("Console")]),_:1}),u(d,{underline:!1,class:"hidden-xs-only"},{default:c(()=>[w("Without Underline")]),_:1}),u(d,{underline:!1},{default:c(()=>[u(l,{size:20},{default:c(()=>[u(i(qt))]),_:1})]),_:1}),u(g,null,{dropdown:c(()=>[u(m,null,{default:c(()=>[u(a,null,{default:c(()=>[w("Account Settings")]),_:1}),u(a,null,{default:c(()=>[u(l,null,{default:c(()=>[u(i(Fe))]),_:1}),w("个人资料")]),_:1}),u(a,null,{default:c(()=>[w("修改密码")]),_:1}),u(a,{disabled:""},{default:c(()=>[w("Action 4")]),_:1}),u(a,{divided:"",onClick:s},{default:c(()=>[u(l,null,{default:c(()=>[u(i(Wt))]),_:1}),w("退出系统")]),_:1})]),_:1})]),default:c(()=>[u(d,{underline:!1},{default:c(()=>[u(r,{icon:i(Fe)},null,8,["icon"]),Sn,u(l,{class:"el-icon--right"},{default:c(()=>[u(i(tt))]),_:1})]),_:1})]),_:1})])]),_:1}),u($,{modelValue:n.value,"onUpdate:modelValue":f[3]||(f[3]=D=>n.value=D),title:"Tips",draggable:"",modal:!1,"append-to-body":"","close-on-click-modal":!1,class:"te-window"},{footer:c(()=>[z("span",kn,[u(E,{onClick:f[1]||(f[1]=D=>n.value=!1)},{default:c(()=>[w("Cancel")]),_:1}),u(E,{type:"primary",onClick:f[2]||(f[2]=D=>n.value=!1)},{default:c(()=>[w(" Confirm ")]),_:1})])]),default:c(()=>[Tn]),_:1},8,["modelValue"])],64)}}},wn=z("div",{class:"zap-overlay"},null,-1),$n=z("div",{class:"font-bold color-green h-60px lh-60px text-center"},[z("span",null,"ZAP")],-1),xn=z("span",null,"控制面板",-1),An=z("span",null,"网站",-1),On=z("span",null,"服务器",-1),Nn={__name:"LeftSidebar",setup(e){const n=jt(),o=Ut();function s(){sessionStorage.removeItem("access_token"),nt({message:"退出成功",type:"warning"}),o.replace({path:"/login",query:{redirect:o.currentRoute.fullPath}})}return(t,f)=>{const l=En,d=Cn,r=_n,a=Gt;return T(),j(pe,null,[wn,u(a,{width:"200px"},{default:c(()=>[$n,u(r,{"default-active":i(n).path,"background-color":"#363636","text-color":"#fff",router:""},{default:c(()=>[u(l,{index:"/"},{default:c(()=>[u(i(re),{icon:"ic:round-dashboard",style:{"font-size":"24px"},class:"mr-1"}),xn]),_:1}),u(l,{index:"/sites"},{default:c(()=>[u(i(re),{icon:"mingcute:web-line",style:{"font-size":"24px"},class:"mr-1"}),An]),_:1}),u(l,{index:"/filemanager"},{title:c(()=>[w("文件")]),default:c(()=>[u(i(re),{icon:"clarity:directory-line",style:{"font-size":"24px"},class:"mr-1"})]),_:1}),u(l,{index:"/terminal"},{title:c(()=>[w("终端")]),default:c(()=>[u(i(re),{icon:"mdi:terminal",style:{"font-size":"24px"},class:"mr-1",inline:!0})]),_:1}),u(d,{index:"1"},{title:c(()=>[u(i(re),{icon:"mdi:server-outline",style:{"font-size":"24px"},class:"mr-1"}),On]),default:c(()=>[u(l,{index:"/server/tools"},{default:c(()=>[w("系统工具")]),_:1}),u(l,{index:"/server/appstore"},{default:c(()=>[w("应用商店")]),_:1}),u(l,{index:"/server/configuration"},{default:c(()=>[w("服务器配置")]),_:1}),u(l,{index:"/server/security_center"},{default:c(()=>[w("安全中心")]),_:1})]),_:1}),u(l,{onClick:s},{title:c(()=>[w("退出系统")]),default:c(()=>[u(i(re),{icon:"fe:logout",style:{"font-size":"24px"}})]),_:1})]),_:1},8,["default-active"])]),_:1})],64)}}},Bn={__name:"FooterCopyright",setup(e){const n=st();function o(){lt({url:"/v1/upgrade/check"}).then(s=>{nt({message:"提交成功"})})}return(s,t)=>{const f=xo,l=po,d=at,r=no,a=mo,m=Kt;return T(),j(pe,null,[u(f,{right:100,bottom:100}),u(m,{class:"text-gray:70 font-size-3 border-1 bg-light-color:700"},{default:c(()=>[u(a,{justify:"space-between"},{default:c(()=>[u(l,{span:12},{default:c(()=>[w("@ Copyright zap.cn")]),_:1}),u(l,{span:12,class:"text-right"},{default:c(()=>[u(r,null,{default:c(()=>[w(" 当前版本 "+Se(i(n).settings.version)+"("+Se(i(n).settings.build_date)+") ",1),u(d,{onClick:o},{default:c(()=>[w("更新")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}},Ln=fo(Bn,[["__scopeId","data-v-c765f1dd"]]),Xn={__name:"Layout",setup(e){const n=st();return ne(()=>{lt({url:"/v1/sync/user/settings"}).then(o=>{n.settings=o.data})}),(o,s)=>{const t=ot("RouterView"),f=Xt,l=co,d=Zt;return T(),J(d,null,{default:c(()=>[u(Nn),u(d,{direction:"vertical"},{default:c(()=>[u(In),u(l,{class:"zap-content-scroll"},{default:c(()=>[u(f,null,{default:c(()=>[u(t)]),_:1}),u(Ln)]),_:1})]),_:1})]),_:1})}}};export{Xn as default};
