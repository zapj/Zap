import{aK as _,b as F,a as $,d as B,aI as X,bw as Z,r,bx as q,f as D,h as G,w as x,a2 as K,y as W,W as j,by as H,X as I,aX as J}from"./index-cc2a4353.js";import{U as P}from"./event-2c073216.js";import{u as h}from"./use-form-item-f5a99179.js";import{u as Q}from"./index-f045ac76.js";import{i as Y}from"./index-9caf0bc1.js";const se=(...e)=>l=>{e.forEach(s=>{_(s)?s(l):s.value=l})},R=F({center:Boolean,alignCenter:Boolean,closeIcon:{type:$},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ue={close:()=>!0},ie=F({...R,appendToBody:Boolean,appendTo:{type:B(String),default:"body"},beforeClose:{type:B(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),ce={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[P]:e=>X(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},re=(e,l)=>{var s;const t=j().emit,{nextZIndex:p}=Z();let C="";const S=h(),T=h(),n=r(!1),d=r(!1),c=r(!1),f=r((s=e.zIndex)!=null?s:p());let u,i;const E=q("namespace",H),O=D(()=>{const o={},a=`--${E.value}-dialog`;return e.fullscreen||(e.top&&(o[`${a}-margin-top`]=e.top),e.width&&(o[`${a}-width`]=G(e.width))),o}),w=D(()=>e.alignCenter?{display:"flex"}:{});function A(){t("opened")}function k(){t("closed"),t(P,!1),e.destroyOnClose&&(c.value=!1)}function L(){t("close")}function b(){i==null||i(),u==null||u(),e.openDelay&&e.openDelay>0?{stop:u}=I(()=>g(),e.openDelay):g()}function y(){u==null||u(),i==null||i(),e.closeDelay&&e.closeDelay>0?{stop:i}=I(()=>m(),e.closeDelay):m()}function v(){function o(a){a||(d.value=!0,n.value=!1)}e.beforeClose?e.beforeClose(o):y()}function N(){e.closeOnClickModal&&v()}function g(){J&&(n.value=!0)}function m(){n.value=!1}function M(){t("openAutoFocus")}function z(){t("closeAutoFocus")}function U(o){var a;((a=o.detail)==null?void 0:a.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&Q(n);function V(){e.closeOnPressEscape&&v()}return x(()=>e.modelValue,o=>{o?(d.value=!1,b(),c.value=!0,f.value=Y(e.zIndex)?p():f.value++,K(()=>{t("open"),l.value&&(l.value.scrollTop=0)})):n.value&&y()}),x(()=>e.fullscreen,o=>{l.value&&(o?(C=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=C)}),W(()=>{e.modelValue&&(n.value=!0,c.value=!0,b())}),{afterEnter:A,afterLeave:k,beforeLeave:L,handleClose:v,onModalClick:N,close:y,doClose:m,onOpenAutoFocus:M,onCloseAutoFocus:z,onCloseRequested:V,onFocusoutPrevented:U,titleId:S,bodyId:T,closed:d,style:O,overlayDialogStyle:w,rendered:c,visible:n,zIndex:f}};export{ce as a,R as b,se as c,ie as d,ue as e,re as u};
