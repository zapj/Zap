import{r as _,o as f,a as b,b as h,w as r,j as e,L as g,e as w}from"./index-57ba148c.js";import{E as x,a as y}from"./el-table-column-28499b9c.js";import"./el-tooltip-54d9aabc.js";import{E}from"./el-button-7b2c59ce.js";/* empty css               */import{a as i}from"./client-157b369f.js";import{b as s}from"./index-407d4441.js";import{E as T}from"./index-d981f411.js";import"./error-78e43d3e.js";import"./use-form-common-props-7f97df7e.js";import"./runtime-14a2c257.js";import"./_initCloneObject-0341bd43.js";import"./index-74d71456.js";import"./index-def65ea4.js";import"./event-8e91c63d.js";import"./use-form-item-c8f82fc4.js";import"./isNil-c75b1b34.js";import"./index-6222f193.js";import"./index-cb9db75a.js";import"./aria-bc8e8b0f.js";import"./index-cbef6c4f.js";const P={__name:"AppInstalledView",setup(k){const p=_([]);f(()=>{l()});const n=t=>{T.confirm("确定要卸载"+t.name+"吗？","warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:o=>{o==="confirm"&&m(t)}})},m=t=>{i({url:"/v1/app/appstore/uninstall",method:"post",data:{id:t.id},dataType:"form"}).then(o=>{s({type:o.code===0?"success":"error",message:o.msg}),l()})},l=()=>{i({url:"/v1/app/appstore/already_install"}).then(t=>{if(t.code!==0){s({type:"error",message:t.msg});return}p.value=t.data})};return(t,o)=>{const a=x,c=E,d=y;return b(),h(d,{data:w(p),stripe:"",style:{width:"100%"}},{default:r(()=>[e(a,{prop:"id",label:"Id",width:"180"}),e(a,{prop:"name",label:"Name",width:"180"}),e(a,{prop:"title",label:"Title",width:"180"}),e(a,{prop:"version",label:"版本"}),e(a,{prop:"status",label:"状态"}),e(a,{prop:"app_status",label:"运行状态"}),e(a,{prop:"install_date",label:"安装时间"}),e(a,{fixed:"right",label:"操作",width:"120"},{default:r(u=>[e(c,{link:"",type:"primary",size:"small",onClick:B=>n(u.row)},{default:r(()=>[g("卸载")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}};export{P as default};
