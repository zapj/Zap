import{r as _,o as f,a as b,b as g,w as p,j as o,p as E,e as h}from"./index-e26e72e9.js";import{E as x,a as y}from"./el-table-column-95096c36.js";import"./el-tooltip-95af38b0.js";import"./el-scrollbar-eafc889c.js";import{E as w}from"./el-button-91f41336.js";/* empty css               */import{a as l}from"./client-00b0bb33.js";import{E as m}from"./index-b3b7ff7e.js";import{E as T}from"./index-8a83d082.js";import"./error-78e43d3e.js";import"./constants-b6c0c234.js";import"./_initCloneObject-9228ffc4.js";import"./use-global-config-e0c846e4.js";import"./index-3bac334e.js";import"./index-0e6c4a62.js";import"./runtime-909e2ee3.js";import"./use-form-common-props-0f5bc46c.js";import"./event-8e91c63d.js";import"./use-form-item-59e5f47e.js";import"./index-9f57bd93.js";import"./isNil-c75b1b34.js";import"./typescript-d2ff6dd6.js";import"./focus-trap-f40e746e.js";import"./index-6838fe58.js";import"./index-679b04b8.js";import"./index-6fc089e4.js";import"./vnode-4474326f.js";import"./aria-bc8e8b0f.js";import"./index-7cdd4eea.js";const ot={__name:"AppInstalledView",setup(k){const r=_([]);f(()=>{i()});const s=t=>{T.confirm("确定要卸载"+t.name+"吗？","warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:a=>{a==="confirm"&&n(t)}})},n=t=>{l({url:"/v1/app/appstore/uninstall",method:"post",data:{id:t.id},dataType:"form"}).then(a=>{m({type:a.code===0?"success":"error",message:a.msg}),i()})},i=()=>{l({url:"/v1/app/appstore/already_install"}).then(t=>{if(t.code!==0){m({type:"error",message:t.msg});return}r.value=t.data})};return(t,a)=>{const e=x,c=w,d=y;return b(),g(d,{data:h(r),stripe:"",style:{width:"100%"}},{default:p(()=>[o(e,{prop:"id",label:"Id"}),o(e,{prop:"name",label:"Name"}),o(e,{prop:"title",label:"Title"}),o(e,{prop:"version",label:"版本"}),o(e,{prop:"status",label:"状态"}),o(e,{prop:"app_status",label:"运行状态"}),o(e,{prop:"install_date",label:"安装时间"}),o(e,{fixed:"right",label:"操作",width:"120"},{default:p(u=>[o(c,{link:"",type:"primary",size:"small",onClick:B=>s(u.row)},{default:p(()=>[E("卸载")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}};export{ot as default};
