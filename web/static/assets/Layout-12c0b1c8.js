import{s as z,r as $,o as w,d as T,u as O,c as j,a as y,b as G,w as t,e as o,f as h,n as U,g as I,h as W,i as Z,j as e,k as J,T as K,_ as Q,l as X,m as p,p as i,t as k,F as b,q as Y,v as L,E as ee,x as M,y as V,z as te,A as oe,B as se,C as ne,D as le,G as ae,H as ie,I as re}from"./index-4558e22a.js";import{E as ce}from"./el-scrollbar-46eb1487.js";import{E as _e}from"./el-dialog-a048f40b.js";import"./el-overlay-4232514c.js";import{E as de}from"./el-button-5a1e2e41.js";/* empty css                        */import"./el-tooltip-6ba31a31.js";import{E as ue,a as pe,b as me}from"./el-dropdown-item-70e7639d.js";import{E as B}from"./el-link-c5ebd25d.js";/* empty css                */import{u as fe,E as N,c as ve,e as ye,a as ge,b as he,s as be,d as xe}from"./index-60a14872.js";import{I as f}from"./iconify-9f979980.js";import{u as S}from"./global-72cf06e4.js";import{_ as x}from"./_plugin-vue_export-helper-c27b6911.js";import{E as Ee,a as ke,b as we}from"./el-menu-item-eacc9b40.js";/* empty css                   */import{E as q}from"./index-21c5f4c3.js";import{E as Se,a as Ce}from"./el-col-952076e8.js";import{a as R}from"./client-5d52aa59.js";import{u as ze}from"./typescript-00cc0b5d.js";import{t as Ie}from"./error-78e43d3e.js";import"./runtime-e5f589df.js";import"./use-global-config-0868fc11.js";import"./index-6615aa32.js";import"./focus-trap-8187f18e.js";import"./isNil-c75b1b34.js";import"./refs-5d35cb72.js";import"./index-5175c219.js";import"./index-20939992.js";import"./vnode-dafc8873.js";import"./event-8e91c63d.js";import"./index-ae1427e5.js";import"./use-form-item-71c26730.js";import"./constants-84857360.js";import"./use-form-common-props-276dc413.js";import"./castArray-ee17caab.js";import"./aria-bc8e8b0f.js";const Le={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},$e={click:a=>a instanceof MouseEvent},Te=(a,u,r)=>{const n=z(),c=z(),m=$(!1),s=()=>{n.value&&(m.value=n.value.scrollTop>=a.visibilityHeight)},l=d=>{var v;(v=n.value)==null||v.scrollTo({top:0,behavior:"smooth"}),u("click",d)},_=fe(s,300,!0);return ze(c,"scroll",_),w(()=>{var d;c.value=document,n.value=document.documentElement,a.target&&(n.value=(d=document.querySelector(a.target))!=null?d:void 0,n.value||Ie(r,`target does not exist: ${a.target}`),c.value=n.value),s()}),{visible:m,handleClick:l}},D="ElBacktop",Me=T({name:D}),Ve=T({...Me,props:Le,emits:$e,setup(a,{emit:u}){const r=a,n=O("backtop"),{handleClick:c,visible:m}=Te(r,u,D),s=j(()=>({right:`${r.right}px`,bottom:`${r.bottom}px`}));return(l,_)=>(y(),G(K,{name:`${o(n).namespace.value}-fade-in`},{default:t(()=>[o(m)?(y(),h("div",{key:0,style:U(o(s)),class:I(o(n).b()),onClick:_[0]||(_[0]=W((...d)=>o(c)&&o(c)(...d),["stop"]))},[Z(l.$slots,"default",{},()=>[e(o(N),{class:I(o(n).e("icon"))},{default:t(()=>[e(o(ve))]),_:1},8,["class"])])],6)):J("v-if",!0)]),_:3},8,["name"]))}});var Be=Q(Ve,[["__file","backtop.vue"]]);const Ne=X(Be);const qe=a=>(M("data-v-302ada31"),a=a(),V(),a),Re={class:"right-buttons mr-3"},De={class:"hidden-xs-only"},Fe=qe(()=>p("span",null,"It's a draggable Dialog",-1)),He={class:"dialog-footer"},Pe={__name:"TopHeader",setup(a){const u=S(),r=Y(()=>te(()=>import("./CodeEditor-c8d58a46.js"),["assets/CodeEditor-c8d58a46.js","assets/index-4558e22a.js","assets/index-dd61018d.css","assets/el-empty-bbaefec5.js","assets/index-ae1427e5.js","assets/runtime-e5f589df.js","assets/use-global-config-0868fc11.js","assets/index-60a14872.js","assets/index-6615aa32.js","assets/el-empty-743b38f5.css","assets/client-5d52aa59.js","assets/index-21c5f4c3.js","assets/typescript-00cc0b5d.js"])),n=$(!1);w(function(){const s=document.querySelector(".zap-overlay");s.addEventListener("click",function(){c()}),window.addEventListener("resize",()=>{document.body.clientWidth<768?(s.style.visibility="hidden",document.querySelector("aside").style.marginLeft="-200px"):document.querySelector("aside").style.marginLeft="0"})});function c(){const s=document.querySelector(".zap-overlay"),l=document.querySelector("aside");l.style.marginLeft==="0px"||l.style.marginLeft===""?(l.style.marginLeft="-200px",s.style.visibility="hidden"):(s.style.visibility="visible",l.style.marginLeft="0px")}function m(){sessionStorage.removeItem("access_token"),L.replace({path:"/login",query:{redirect:L.currentRoute.fullPath}})}return(s,l)=>{const _=N,d=B,v=ue,F=pe,H=me,P=ee,C=de,A=_e;return y(),h(b,null,[e(P,null,{default:t(()=>[e(d,{underline:!1},{default:t(()=>[e(_,{size:20,onClick:c},{default:t(()=>[e(o(ye))]),_:1})]),_:1}),p("div",Re,[e(H,null,{dropdown:t(()=>[e(F,null,{default:t(()=>[e(v,null,{default:t(()=>[e(_,null,{default:t(()=>[e(o(ge))]),_:1}),i("个人资料 ")]),_:1}),e(v,null,{default:t(()=>[e(o(he)),i("修改密码")]),_:1}),e(v,{divided:"",onClick:m},{default:t(()=>[e(_,null,{default:t(()=>[e(o(be))]),_:1}),i("退出系统 ")]),_:1})]),_:1})]),default:t(()=>[e(d,{underline:!1},{default:t(()=>[p("span",De,k(o(u).settings.lname),1),e(_,{class:"el-icon--right"},{default:t(()=>[e(o(xe))]),_:1})]),_:1})]),_:1})])]),_:1}),e(A,{"modal-class":"zeditor",modelValue:n.value,"onUpdate:modelValue":l[2]||(l[2]=E=>n.value=E),title:"Tips",draggable:"",modal:!1,"append-to-body":!0,"close-on-click-modal":!1,class:"te-window"},{footer:t(()=>[p("span",He,[e(C,{onClick:l[0]||(l[0]=E=>n.value=!1)},{default:t(()=>[i("Cancel")]),_:1}),e(C,{type:"primary",onClick:l[1]||(l[1]=E=>n.value=!1)},{default:t(()=>[i(" Confirm ")]),_:1})])]),default:t(()=>[Fe,e(o(r))]),_:1},8,["modelValue"])],64)}}},Ae=x(Pe,[["__scopeId","data-v-302ada31"]]);const g=a=>(M("data-v-86041956"),a=a(),V(),a),Oe=g(()=>p("div",{class:"zap-overlay"},null,-1)),je=g(()=>p("div",{class:"font-bold color-green h-50px lh-50px text-center"},[p("span",{class:"font-size-5"},"ZAP")],-1)),Ge=g(()=>p("hr",{class:"divhr"},null,-1)),Ue=g(()=>p("span",null,"控制面板",-1)),We=g(()=>p("span",null,"网站",-1)),Ze=g(()=>p("span",null,"服务器",-1)),Je={__name:"LeftSidebar",setup(a){const u=oe(),r=se();function n(){sessionStorage.removeItem("access_token"),q({message:"退出成功",type:"success"}),r.replace({path:"/login",query:{redirect:r.currentRoute.fullPath}})}return(c,m)=>{const s=Ee,l=ke,_=we,d=ne;return y(),h(b,null,[Oe,e(d,{width:"200px"},{default:t(()=>[je,Ge,e(_,{"default-active":o(u).path,"background-color":"rgb(58, 63, 70)","text-color":"#fff",router:""},{default:t(()=>[e(s,{index:"/"},{default:t(()=>[e(o(f),{icon:"ic:round-dashboard",style:{"font-size":"24px"},class:"mr-1"}),Ue]),_:1}),e(s,{index:"/sites"},{default:t(()=>[e(o(f),{icon:"mingcute:web-line",style:{"font-size":"24px"},class:"mr-1"}),We]),_:1}),e(s,{index:"/filemanager"},{title:t(()=>[i("文件")]),default:t(()=>[e(o(f),{icon:"clarity:directory-line",style:{"font-size":"24px"},class:"mr-1"})]),_:1}),e(s,{index:"/terminal"},{title:t(()=>[i("终端")]),default:t(()=>[e(o(f),{icon:"mdi:terminal",style:{"font-size":"24px"},class:"mr-1",inline:!0})]),_:1}),e(l,{index:"1"},{title:t(()=>[e(o(f),{icon:"mdi:server-outline",style:{"font-size":"24px"},class:"mr-1"}),Ze]),default:t(()=>[e(s,{index:"/server/tools"},{default:t(()=>[i("系统工具")]),_:1}),e(s,{index:"/server/port_list"},{default:t(()=>[i("端口管理")]),_:1})]),_:1}),e(s,{index:"/appstore"},{title:t(()=>[i("应用商店")]),default:t(()=>[e(o(f),{icon:"mdi:apps",style:{"font-size":"24px"},class:"mr-1",inline:!0})]),_:1}),e(s,{index:"/settings"},{title:t(()=>[i("面板设置")]),default:t(()=>[e(o(f),{icon:"mdi:settings",style:{"font-size":"24px"},class:"mr-1",inline:!0})]),_:1}),e(s,{index:"/account"},{title:t(()=>[i("账户")]),default:t(()=>[e(o(f),{icon:"mdi:account",style:{"font-size":"24px"},class:"mr-1",inline:!0})]),_:1}),e(s,{onClick:n},{title:t(()=>[i("退出系统")]),default:t(()=>[e(o(f),{icon:"fe:logout",style:{"font-size":"24px"}})]),_:1})]),_:1},8,["default-active"])]),_:1})],64)}}},Ke=x(Je,[["__scopeId","data-v-86041956"]]);const Qe={__name:"FooterCopyright",setup(a){const u=S();function r(){R({url:"/v1/upgrade/check"}).then(n=>{q({message:n.msg,type:n.code===0?"success":"error"})})}return(n,c)=>{const m=Ne,s=B,l=Se,_=Ce,d=le;return y(),h(b,null,[e(m,{right:100,bottom:100}),e(d,{class:"text-gray border-1",style:{"font-size":"12px"}},{default:t(()=>[e(_,{justify:"space-between"},{default:t(()=>[e(l,{span:24,class:"text-right"},{default:t(()=>[i(" @ Copyright zap.cn "),p("span",null,[i(" 当前版本 "+k(o(u).settings.version)+"("+k(o(u).settings.build_date)+") ",1),e(s,{underline:"",style:{"font-size":"12px"},onClick:r},{default:t(()=>[i("更新")]),_:1})])]),_:1})]),_:1})]),_:1})],64)}}},Xe=x(Qe,[["__scopeId","data-v-2de076f8"]]);const Ye={__name:"Layout",setup(a){const u=S();return w(()=>{R({url:"/v1/sync/user/settings"}).then(r=>{u.settings=r.data})}),(r,n)=>{const c=ae("RouterView"),m=ie,s=ce,l=re;return y(),h(b,null,[e(Ke),e(l,{direction:"vertical"},{default:t(()=>[e(Ae),e(s,{class:"zap-content-scroll"},{default:t(()=>[e(m,{style:{margin:"0"}},{default:t(()=>[e(c)]),_:1}),e(Xe)]),_:1})]),_:1})],64)}}},Rt=x(Ye,[["__scopeId","data-v-17d80c12"]]);export{Rt as default};
