import{r as _,o as f,a as b,b as h,w as r,j as e,L as g,e as w}from"./index-148d1486.js";import{E as x,a as y}from"./el-table-column-df78bdb5.js";import"./el-tooltip-5db3d11d.js";import{E}from"./el-button-23d6d54e.js";/* empty css               */import{a as i}from"./client-e1b2eaf3.js";import{b as s}from"./index-5d16af91.js";import{E as T}from"./index-b1b8128b.js";import"./error-78e43d3e.js";import"./use-form-common-props-0f5eaf0e.js";import"./runtime-7b3fc6f5.js";import"./_initCloneObject-f565b46c.js";import"./index-eb601616.js";import"./index-e9d3915a.js";import"./event-8e91c63d.js";import"./use-form-item-71dcd037.js";import"./isNil-c75b1b34.js";import"./index-5e68960c.js";import"./index-e2f2746b.js";import"./aria-bc8e8b0f.js";import"./index-4d73098d.js";const P={__name:"AppInstalledView",setup(k){const p=_([]);f(()=>{l()});const n=t=>{T.confirm("确定要卸载"+t.name+"吗？","warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:o=>{o==="confirm"&&m(t)}})},m=t=>{i({url:"/v1/app/appstore/uninstall",method:"post",data:{id:t.id},dataType:"form"}).then(o=>{s({type:o.code===0?"success":"error",message:o.msg}),l()})},l=()=>{i({url:"/v1/app/appstore/already_install"}).then(t=>{if(t.code!==0){s({type:"error",message:t.msg});return}p.value=t.data})};return(t,o)=>{const a=x,c=E,d=y;return b(),h(d,{data:w(p),stripe:"",style:{width:"100%"}},{default:r(()=>[e(a,{prop:"id",label:"Id",width:"180"}),e(a,{prop:"name",label:"Name",width:"180"}),e(a,{prop:"title",label:"Title",width:"180"}),e(a,{prop:"version",label:"版本"}),e(a,{prop:"status",label:"状态"}),e(a,{prop:"app_status",label:"运行状态"}),e(a,{prop:"install_date",label:"安装时间"}),e(a,{fixed:"right",label:"操作",width:"120"},{default:r(u=>[e(c,{link:"",type:"primary",size:"small",onClick:B=>n(u.row)},{default:r(()=>[g("卸载")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])}}};export{P as default};
