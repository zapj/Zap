import{ai as b,u as h,aC as C,Z as g,aD as x,at as u,d as T,j as k,i as p,ab as M}from"./index-5f1d5677.js";import{t as S}from"./error-78e43d3e.js";import{j as m,x as y,P as E,v as P,w as O}from"./index-f7883cef.js";import{b as B,d as v}from"./runtime-89a56c03.js";import{P as f}from"./vnode-98fc9e80.js";let c;const H=e=>{var t;if(!m)return 0;if(c!==void 0)return c;const o=document.createElement("div");o.className=`${e}-scrollbar__wrap`,o.style.visibility="hidden",o.style.width="100px",o.style.position="absolute",o.style.top="-9999px",document.body.appendChild(o);const s=o.offsetWidth;o.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",o.appendChild(l);const a=l.offsetWidth;return(t=o.parentNode)==null||t.removeChild(o),c=s-a,c};function D(e,t){if(!m)return;if(!t){e.scrollTop=0;return}const o=[];let s=t.offsetParent;for(;s!==null&&e!==s&&e.contains(s);)o.push(s),s=s.offsetParent;const l=t.offsetTop+o.reduce((i,d)=>i+d.offsetTop,0),a=l+t.offsetHeight,n=e.scrollTop,r=n+e.clientHeight;l<n?e.scrollTop=l:a>r&&(e.scrollTop=a-e.clientHeight)}const V=(e,t={})=>{b(e)||S("[useLockscreen]","You need to pass a ref param to this function");const o=t.ns||h("popup"),s=C(()=>o.bm("parent","hidden"));if(!m||y(document.body,s.value))return;let l=0,a=!1,n="0";const r=()=>{setTimeout(()=>{O(document==null?void 0:document.body,s.value),a&&document&&(document.body.style.width=n)},200)};g(e,i=>{if(!i){r();return}a=!y(document.body,s.value),a&&(n=document.body.style.width),l=H(o.namespace.value);const d=document.documentElement.clientHeight<document.body.scrollHeight,w=E(document.body,"overflowY");l>0&&(d||w==="scroll")&&a&&(document.body.style.width=`calc(100% - ${l}px)`),P(document.body,s.value)}),x(()=>r())},N=e=>{if(!e)return{onClick:u,onMousedown:u,onMouseup:u};let t=!1,o=!1;return{onClick:n=>{t&&o&&e(n),t=o=!1},onMousedown:n=>{t=n.target===n.currentTarget},onMouseup:n=>{o=n.target===n.currentTarget}}},W=B({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:v([String,Array,Object])},zIndex:{type:v([String,Number])}}),I={click:e=>e instanceof MouseEvent},z="overlay";var L=T({name:"ElOverlay",props:W,emits:I,setup(e,{slots:t,emit:o}){const s=h(z),l=i=>{o("click",i)},{onClick:a,onMousedown:n,onMouseup:r}=N(e.customMaskEvent?void 0:l);return()=>e.mask?k("div",{class:[s.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:a,onMousedown:n,onMouseup:r},[p(t,"default")],f.STYLE|f.CLASS|f.PROPS,["onClick","onMouseup","onMousedown"]):M("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[p(t,"default")])}});const $=L;export{$ as E,N as a,D as s,V as u};
