import{a7 as _,r,c as B,v as D,H as $,o as q,D as Z,au as G}from"./index-148d1486.js";import{b as P,d as x}from"./runtime-7b3fc6f5.js";import{i as H,q as j,s as J,d as K,b as F,e as Q}from"./index-eb601616.js";import{U as S}from"./event-8e91c63d.js";import{d as W}from"./use-form-common-props-0f5eaf0e.js";import{u as I}from"./use-form-item-71dcd037.js";import{u as X}from"./index-e2f2746b.js";import{i as Y}from"./el-tooltip-5db3d11d.js";const ce=(...e)=>l=>{e.forEach(s=>{_(s)?s(l):s.value=l})},R=P({center:Boolean,alignCenter:Boolean,closeIcon:{type:H},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),re={close:()=>!0},de=P({...R,appendToBody:Boolean,appendTo:{type:x(String),default:"body"},beforeClose:{type:x(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),fe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[S]:e=>W(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},me=(e,l)=>{var s;const t=Z().emit,{nextZIndex:p}=j();let C="";const T=I(),h=I(),n=r(!1),d=r(!1),c=r(!1),f=r((s=e.zIndex)!=null?s:p());let u,i;const E=J("namespace",G),O=B(()=>{const o={},a=`--${E.value}-dialog`;return e.fullscreen||(e.top&&(o[`${a}-margin-top`]=e.top),e.width&&(o[`${a}-width`]=K(e.width))),o}),A=B(()=>e.alignCenter?{display:"flex"}:{});function k(){t("opened")}function w(){t("closed"),t(S,!1),e.destroyOnClose&&(c.value=!1)}function L(){t("close")}function b(){i==null||i(),u==null||u(),e.openDelay&&e.openDelay>0?{stop:u}=F(()=>g(),e.openDelay):g()}function m(){u==null||u(),i==null||i(),e.closeDelay&&e.closeDelay>0?{stop:i}=F(()=>v(),e.closeDelay):v()}function y(){function o(a){a||(d.value=!0,n.value=!1)}e.beforeClose?e.beforeClose(o):m()}function N(){e.closeOnClickModal&&y()}function g(){Q&&(n.value=!0)}function v(){n.value=!1}function M(){t("openAutoFocus")}function z(){t("closeAutoFocus")}function U(o){var a;((a=o.detail)==null?void 0:a.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&X(n);function V(){e.closeOnPressEscape&&y()}return D(()=>e.modelValue,o=>{o?(d.value=!1,b(),c.value=!0,f.value=Y(e.zIndex)?p():f.value++,$(()=>{t("open"),l.value&&(l.value.scrollTop=0)})):n.value&&m()}),D(()=>e.fullscreen,o=>{l.value&&(o?(C=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=C)}),q(()=>{e.modelValue&&(n.value=!0,c.value=!0,b())}),{afterEnter:k,afterLeave:w,beforeLeave:L,handleClose:y,onModalClick:N,close:m,doClose:v,onOpenAutoFocus:M,onCloseAutoFocus:z,onCloseRequested:V,onFocusoutPrevented:U,titleId:T,bodyId:h,closed:d,style:O,overlayDialogStyle:A,rendered:c,visible:n,zIndex:f}};export{fe as a,R as b,ce as c,de as d,re as e,me as u};
