import{r as V,y as A,ao as p,o,l as n,m as s,j as u,V as f,ax as g,k as L,B as v,a5 as l,a7 as r,A as y,a6 as h,al as k}from"./index-b976bc21.js";import{E as M}from"./el-card-2216a0ff.js";/* empty css               */import{E as N}from"./index-c52b2a81.js";import{E as R}from"./index-0d2c5633.js";import{E as T,a as z}from"./index-58ade437.js";import"./use-form-common-props-bf13ae6f.js";import"./use-form-item-014ad19a.js";const $={style:{padding:"14px"}},j=["textContent"],q={class:"bottom mt-2"},D={class:"time font-size-3 me-2"},U={__name:"AppListView",setup(F){const i=V([]);A(()=>{x()});const x=()=>{p({url:"/v1/app/appstore"}).then(a=>{i.value=a.data})};function m(a,_,c){p({url:"/v1/app/appstore/install",method:"post",data:{id:a,action:_,version:c},dataType:"form"}).then(e=>{console.log(e),e.code==0?k({type:"success",message:e.msg}):k({type:"error",message:e.msg})})}return(a,_)=>{const c=N,e=R,C=M,E=T,b=z;return o(),n(b,{gutter:20},{default:s(()=>[(o(!0),u(f,null,g(L(i),(t,w)=>(o(),n(E,{span:6,class:"mb-2",key:w},{default:s(()=>[v(C,{"body-style":{padding:"0px"},shadow:"hover"},{default:s(()=>[l("div",$,[l("span",{textContent:r(t.title)},null,8,j),v(c,{class:"tag ml-2",type:"success",effect:"dark",size:"small",textContent:r(t.category)},null,8,["textContent"]),l("div",q,[l("time",D,r(t.version[0]),1),t.actions?(o(!0),u(f,{key:0},g(t.actions,(d,B)=>(o(),n(e,{class:"button",onClick:y(S=>m(t.id,B,t.version[0]),["prevent"])},{default:s(()=>[h(r(d),1)]),_:2},1032,["onClick"]))),256)):(o(),n(e,{key:1,class:"button",onClick:y(d=>m(t.id),["prevent"])},{default:s(()=>[h("安装")]),_:2},1032,["onClick"]))])])]),_:2},1024)]),_:2},1024))),128))]),_:1})}}};export{U as default};
